<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="fonts/icomoon/style.css">

    <link rel="stylesheet" href="css/owl.carousel.min.css">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    
    <!-- Style -->
    <link rel="stylesheet" href="css/style.css">

    <title>Login #4</title>
  </head>
  <body>
    <p class="mb-4 container-2"><a href="/index.html" style="color: black">← Atpakaļ uz sākumlapu</a></p> 
    <div class="container-2">
      <h3 class="jautajums">Publiskā datubāze</h3>
      <p class="mb-4">Šajā datubāze Tu vari apskatīt pieejamās vielas un aprīkojumu</p> 

      <div class="input-group mb-3 rounded" style="width: 400px; border-radius: 50px; ">
        <input type="text" class="form-control" placeholder="Search" aria-label="Search" aria-describedby="basic-addon1" style="border-radius: 30px 30px 30px 30px;">
        <input type="submit" value="Radīt visu" class="btn" style="position: absolute; margin-left: 105%; border-radius: 20px;  background-color: rgb(80, 130, 255); color: aliceblue;">
       
        <input type="submit" id="vielas" onclick="change1();" value="Radīt vielas" class="btn" style="position: absolute; margin-left: 134%; border-radius: 20px; background-color: rgb(255, 255, 255); color: rgb(80, 130, 255); border-color: rgb(80, 130, 255);" formaction="/index.html">
        <input type="submit" id="aprikojumi" onclick="change2();" value="Radīt aprikojumu" class="btn " style="position: absolute; margin-left: 165%; border-radius: 20px; background-color: rgb(255, 255, 255); color: rgb(80, 130, 255); border-color: rgb(80, 130, 255);"  formaction="/index.html">
      </div>
    </div>



  <div id="container-1">
    <!-- <table class="table" id="container-1" style="width: 1600px; margin-left: 3%; margin-top: 100px;"> -->
     <!-- <thead class="thead-dark container-1">
         <tr>
          <th>Apakštips</th>
          <th scope="col">Daudzums</th>
          <th scope="col">ID</th>
          <th scope="col">Komentari</th>
          <th scope="col">Mervienibas</th>
          <th scope="col">Nosaukums</th>
          <th scope="col">Skaits</th>
          <th>Tips</th>
        </tr> -->
      <!-- </thead>  
      <tbody id="container"> -->
  <!-- <tr>
          <th scope="row">KL1042724</th>
          <td>Katalizators</td>
          <td>Aprīkojums</td>
          <td>Trauks</td>
          <td>23</td>
          <td></td>
          <td>Daži komentāri</td>
        </tr>
        <tr>
          <th scope="row">KL1042725</th>
          <td>Birete</td>
          <td>Aprīkojums</td>
          <td>Trauks</td>
          <td>20</td>
          <td></td>
          <td>Daži komentāri</td>
        </tr>
        <tr>
          <th scope="row">KL1042726</th>
          <td>HCl</td>
          <td>Viela</td>
          <td>Skābe</td>
          <td>19</td>
          <td>40</td>
          <td>Daži komentāri</td>
        </tr>
        <tr>
          <th scope="row">KL1042727</th>
          <td>Kolba</td>
          <td>Aprīkojums</td>
          <td>Trauks</td>
          <td>20</td>
          <td></td>
          <td>Daži komentāri</td>
        </tr>
        <tr>
          <th scope="row">KL1042728</th>
          <td>Fe</td>
          <td>Viela</td>
          <td>Metāls</td>
          <td>48</td>
          <td>10</td>
          <td>Daži komentāri</td>
        </tr>
        <tr>
          <th scope="row">KL1042729</th>
          <td>Na</td>
          <td>Viela</td>
          <td>Metāls</td>
          <td>20</td>
          <td>20</td>
          <td>Daži komentāri</td>
        </tr>
        </div>  -->
      <!-- </tbody>  -->
    <!-- </table> -->
  </div>
  <div id="container-2">
  </div>
  <input type="submit" value="Zinot par kļūdu" class="btn" style="margin-left: 85%; margin-top: 20px;  width: 180px; background-color: rgb(255, 137, 98); color: white;">

  <script>
async function change1() {

      if(typeof vielaslist !== "undefined") {
        inventars.style.display = "none";
        vielaslist.style.display = "table";
      }else{
      if(typeof inventars !== "undefined"){
        inventars.style.display = "none";
      }
       fetch('./vielas.json')
      .then((res) => res.json())
      .then((data) => { 
        console.log(Object.keys(data[0]));
        let container = document.getElementById("container-1");

        let table = document.createElement("table");
        table.classList.add("table");
        table.id = "vielaslist";
        table.setAttribute("style", "width: 1600px; margin-left: 3%; margin-top: 100px;");
        let cols = Object.keys(data[0]);
        let thead = document.createElement("thead");
        thead.setAttribute("class", "thead-dark");
        let tr = document.createElement("tr");

        
        table.appendChild(thead);
        cols.forEach((item) => {
            let th = document.createElement("th");
            th.innerText = item; 
            tr.appendChild(th);
         });

         
         thead.appendChild(tr);
         table.append(thead) 

         data.forEach((item) => {
            let tr = document.createElement("tr");
            let vals = Object.values(item);
            
            vals.forEach((elem) => {
               let td = document.createElement("td");
               td.innerText = elem;
               tr.appendChild(td);
               
            });
            // thead.className("thead-dark");
            table.appendChild(tr);
         });
         container.appendChild(table)
      })
    }
  }

  async function change2() {
      
      if(typeof inventars !== "undefined") {
        vielaslist.style.display = "none";
        inventars.style.display = "table";
      }else{
        if(typeof vielaslist !== "undefined"){
          vielaslist.style.display = "none";
      }
       fetch('./inventars.json')
      .then((res) => res.json())
      .then((data) => { 
        console.log(Object.keys(data[0]));
        let container = document.getElementById("container-2");

        let table = document.createElement("table");
        table.id = "inventars";
        table.classList.add("table");
        table.setAttribute("style", "width: 1600px; margin-left: 3%; margin-top: 100px;");
        let cols = Object.keys(data[0]);
        let thead = document.createElement("thead");
        thead.setAttribute("class", "thead-dark");
        let tr = document.createElement("tr");


        
        table.appendChild(thead);
        cols.forEach((item) => {
            let th = document.createElement("th");
            th.innerText = item; 
            tr.appendChild(th);
         });

         
         thead.appendChild(tr);
         table.append(thead) 

         data.forEach((item) => {
            let tr = document.createElement("tr");
            let vals = Object.values(item);
            
            vals.forEach((elem) => {
               let td = document.createElement("td");
               td.innerText = elem;
               tr.appendChild(td);
               
            });
            // thead.className("thead-dark");
            table.appendChild(tr);
         });
         container.appendChild(table)
      })
      }
  }

  </script>
  </body>
</html>